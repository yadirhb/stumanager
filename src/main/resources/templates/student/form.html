<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ERegistrar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div th:replace="fragments/header :: header"></div>
<section class="container" th:object="${action}">
    <div class="columns is-centered is-vcentered is-mobile">
        <div class="column is-four-fifths">
            <div class="is-flex">
                <div style="display:flex; flex:1;">
                    <span class="title is-vcentered is-size-4" th:text="${action == 'new' ? 'Add new student: ' : 'Edit student: '}"></span>
                </div>
            </div>
            <form id="newStudentForm" method="post" th:action="@{~/student/{action}(action=${action})}" th:object="${student}">
                <input type="hidden" name="id" th:value="${student.id}"/>
                <div class="field">
                    <label class="label" for="firstName">*First name</label>
                    <div class="control">
                        <input class="input" th:classappend="${#fields.hasErrors('firstName') ? 'is-danger' : ''}"
                               th:value="${student.firstName}" id="firstName" name="firstName" type="text"
                               placeholder="eg. John" required>
                    </div>
                    <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="help is-danger"></p>
                </div>

                <div class="field">
                    <label class="label" for="middleName">Middle name</label>
                    <div class="control">
                        <input class="input" th:classappend="${#fields.hasErrors('middleName') ? 'is-danger' : ''}"
                               th:value="${student.middleName}" id="middleName" name="middleName" type="text">
                    </div>
                    <p th:if="${#fields.hasErrors('middleName')}" th:errors="*{middleName}" class="help is-danger"></p>
                </div>

                <div class="field">
                    <label class="label" for="lastName">*Last name</label>
                    <div class="control">
                        <input class="input" th:classappend="${#fields.hasErrors('lastName') ? 'is-danger' : ''}"
                               th:value="${student.lastName}" id="lastName" name="lastName" type="text"
                               placeholder="eg. Doe" required>
                    </div>
                    <p th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="help is-danger"></p>
                </div>

                <div class="field">
                    <label class="label" for="number">Student Number:</label>
                    <div class="control">
                        <input class="input" th:classappend="${#fields.hasErrors('number') ? 'is-danger' : ''}"
                               th:value="${student.number}" id="number" name="number" type="text"
                               placeholder="eg. 000-000-00" required>
                    </div>
                    <p th:if="${#fields.hasErrors('number')}" th:errors="*{number}" class="help is-danger"></p>
                </div>

                <div class="field">
                    <label class="label" for="dateOfEnrollment">*Enrollment date</label>
                    <div class="control">
                        <input class="input"
                               th:classappend="${#fields.hasErrors('dateOfEnrollment') ? 'is-danger' : ''}"
                               th:value="${student.dateOfEnrollment}" id="dateOfEnrollment"
                               name="dateOfEnrollment" type="date" placeholder="eg. 25/10/2019" required>
                    </div>
                    <p th:if="${#fields.hasErrors('dateOfEnrollment')}" th:errors="*{dateOfEnrollment}"
                       class="help is-danger"></p>
                </div>
                <div class="buttons fields is-grouped is-right">
                    <div class="control">
                        <button class="button is-link">Submit</button>
                    </div>
                    <div class="control">
                        <button class="button is-text">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
<script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>
</body>
</html>